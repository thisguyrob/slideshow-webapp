import"../chunks/CWj6FrbW.js";import{d as G,c as Y,s as L,a as ae,o as se}from"../chunks/BVW34SQx.js";import{p as J,e as C,r as e,a as P,b as K,h as t,i as a,g as r,t as V,d as D,s as d,B as ie}from"../chunks/CNfditUa.js";import{i as z}from"../chunks/GC4dxQQb.js";import{e as oe,a as X,s as ne,i as le,g as R,r as de,b as ce,c as ve}from"../chunks/BEFEBz6G.js";import{g as me}from"../chunks/D7x77NIs.js";var ue=C('<div class="ml-4 flex-shrink-0"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"></div></div>'),pe=C('<span class="flex items-center"><svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg> Audio</span>'),fe=(c,n,v)=>{c.preventDefault(),n(r(v).id)},ge=C('<div class="bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow"><a class="block"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h3 class="text-lg font-medium text-gray-900 truncate"> </h3> <span> </span></div> <p class="mt-1 text-sm text-gray-500"> </p></div> <!></div> <div class="mt-4 flex items-center justify-between"><div class="flex items-center space-x-4 text-sm text-gray-500"><span class="flex items-center"><svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> </span> <!></div></div></div></a> <div class="bg-gray-50 px-4 py-3 sm:px-6"><div class="flex justify-between items-center"><a class="text-sm font-medium text-indigo-600 hover:text-indigo-500">Open Project</a> <button class="text-sm font-medium text-red-600 hover:text-red-500">Delete</button></div></div></div>'),xe=C('<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"></div>');function he(c,n){J(n,!0);const v=Y();function f(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}async function g(s){if(confirm("Are you sure you want to delete this project?"))try{(await fetch(`${R()}/api/projects/${s}`,{method:"DELETE"})).ok&&v("refresh")}catch(o){console.error("Failed to delete project:",o)}}function x(s){switch(s){case"FWI-main":return"FWI Main";case"FWI-emotional":return"FWI Emotional";case"Scavenger-Hunt":return"Scavenger Hunt";default:return"FWI Main"}}function w(s){switch(s){case"FWI-main":return"bg-blue-100 text-blue-800";case"FWI-emotional":return"bg-purple-100 text-purple-800";case"Scavenger-Hunt":return"bg-green-100 text-green-800";default:return"bg-blue-100 text-blue-800"}}function y(s){switch(s.type){case"FWI-main":return`/fwi-main/${s.id}`;case"FWI-emotional":return`/fwi-emotional/${s.id}`;case"Scavenger-Hunt":return`/scavenger-hunt/${s.id}`;default:return`/project/${s.id}`}}var h=xe();oe(h,21,()=>n.projects,le,(s,o)=>{var _=ge(),u=t(_),S=t(u),I=t(S),W=t(I),k=t(W),j=t(k),i=t(j,!0);e(j);var l=a(j,2),E=t(l,!0);e(l),e(k);var M=a(k,2),b=t(M,!0);e(M),e(W);var N=a(W,2);{var T=$=>{var O=ue();P($,O)};z(N,$=>{r(o).status==="processing"&&$(T)})}e(I);var B=a(I,2),H=t(B),A=t(H),U=a(t(A));e(A);var m=a(A,2);{var p=$=>{var O=pe();P($,O)};z(m,$=>{r(o).hasAudio&&$(p)})}e(H),e(B),e(S),e(u);var F=a(u,2),q=t(F),Q=t(q),Z=a(Q,2);Z.__click=[fe,g,o],e(q),e(F),e(_),V(($,O,ee,te,re)=>{X(u,"href",$),L(i,r(o).name),ne(l,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O??""}`),L(E,ee),L(b,te),L(U,` ${r(o).imageCount??""} images`),X(Q,"href",re)},[()=>y(r(o)),()=>w(r(o).type),()=>x(r(o).type),()=>f(r(o).createdAt),()=>y(r(o))]),P(s,_)}),e(h),P(c,h),K()}G(["click"]);function be(c,n,v,f){c.key==="Escape"?n("close"):c.key==="Enter"&&!r(v)&&f()}var we=C('<p class="mt-2 text-sm text-red-600"> </p>'),ye=(c,n)=>n("close"),_e=C('<div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity z-50"><div class="fixed inset-0 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"><div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"><div class="sm:flex sm:items-start"><div class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10"><svg class="h-6 w-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></div> <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left flex-1"><h3 class="text-base font-semibold leading-6 text-gray-900">Create New Project</h3> <div class="mt-4 space-y-4"><div><label for="project-name" class="block text-sm font-medium text-gray-700 mb-2">Project Name</label> <input id="project-name" type="text" placeholder="Enter project name" class="block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"/></div> <div><label for="project-type" class="block text-sm font-medium text-gray-700 mb-2">Project Type</label> <select id="project-type" class="block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"><option>FWI Main</option><option>FWI Emotional</option><option>Scavenger Hunt</option></select></div> <!></div></div></div></div> <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"><button type="button" class="inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed"> </button> <button type="button" class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">Cancel</button></div></div></div></div></div>');function ke(c,n){J(n,!0);const v=Y();let f=D(""),g=D("FWI-main"),x=D(!1),w=D("");async function y(){if(!r(f).trim()){d(w,"Please enter a project name");return}d(x,!0),d(w,"");try{const m=await fetch(`${R()}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r(f),type:r(g)})});if(m.ok){const p=await m.json();v("created",p);let F=`/project/${p.id}`;switch(p.type){case"FWI-main":F=`/fwi-main/${p.id}`;break;case"FWI-emotional":F=`/fwi-emotional/${p.id}`;break;case"Scavenger-Hunt":F=`/scavenger-hunt/${p.id}`;break}me(F)}else d(w,"Failed to create project")}catch{d(w,"Network error. Please try again.")}finally{d(x,!1)}}var h=_e(),s=t(h),o=t(s),_=t(o);_.__keydown=[be,v,x,y];var u=t(_),S=t(u),I=a(t(S),2),W=a(t(I),2),k=t(W),j=a(t(k),2);de(j),ae(j),e(k);var i=a(k,2),l=a(t(i),2),E=t(l);E.value=E.__value="FWI-main";var M=a(E);M.value=M.__value="FWI-emotional";var b=a(M);b.value=b.__value="Scavenger-Hunt",e(l),e(i);var N=a(i,2);{var T=m=>{var p=we(),F=t(p,!0);e(p),V(()=>L(F,r(w))),P(m,p)};z(N,m=>{r(w)&&m(T)})}e(W),e(I),e(S),e(u);var B=a(u,2),H=t(B);H.__click=y;var A=t(H,!0);e(H);var U=a(H,2);U.__click=[ye,v],e(B),e(_),e(o),e(s),e(h),V(()=>{H.disabled=r(x),L(A,r(x)?"Creating...":"Create")}),ce(j,()=>r(f),m=>d(f,m)),ve(l,()=>r(g),m=>d(g,m)),P(c,h),K()}G(["keydown","click"]);var je=(c,n)=>d(n,!0),Fe=C('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div></div>'),$e=(c,n)=>d(n,!0),Pe=C('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No projects</h3> <p class="mt-1 text-sm text-gray-500">Get started by creating a new project.</p> <div class="mt-6"><button class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Project</button></div></div>'),Ce=C('<div class="min-h-screen bg-gray-50"><header class="bg-white shadow-sm border-b"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><div class="flex items-center"><h1 class="text-2xl font-bold text-gray-900">Slideshow Creator</h1></div> <button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Project</button></div></div></header> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></main> <!></div>');function Ne(c,n){J(n,!0);let v=D(ie([])),f=D(!0),g=D(!1);async function x(){try{const i=R(),l=await fetch(`${i}/api/projects`);l.ok&&d(v,await l.json(),!0)}catch(i){console.error("Failed to load projects:",i)}finally{d(f,!1)}}se(()=>{x()});function w(){d(g,!1),x()}var y=Ce(),h=t(y),s=t(h),o=t(s),_=a(t(o),2);_.__click=[je,g],e(o),e(s),e(h);var u=a(h,2),S=t(u);{var I=i=>{var l=Fe();P(i,l)},W=(i,l)=>{{var E=b=>{var N=Pe(),T=a(t(N),6),B=t(T);B.__click=[$e,g],e(T),e(N),P(b,N)},M=b=>{he(b,{get projects(){return r(v)},$$events:{refresh:x}})};z(i,b=>{r(v).length===0?b(E):b(M,!1)},l)}};z(S,i=>{r(f)?i(I):i(W,!1)})}e(u);var k=a(u,2);{var j=i=>{ke(i,{$$events:{close:()=>d(g,!1),created:w}})};z(k,i=>{r(g)&&i(j)})}e(y),P(c,y),K()}G(["click"]);export{Ne as component};
