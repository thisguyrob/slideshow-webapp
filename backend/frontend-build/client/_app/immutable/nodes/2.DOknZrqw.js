import"../chunks/CWj6FrbW.js";import{d as J,c as X,s as L,a as re,o as ae}from"../chunks/CZG4RayU.js";import{p as K,e as I,r as e,a as P,b as R,h as t,i as a,g as r,t as G,d as T,s as l,C as se}from"../chunks/CTg2jUt1.js";import{i as z}from"../chunks/dXEtNgE2.js";import{e as ie,a as Q,s as oe,i as ne,r as le,b as de,c as ce}from"../chunks/BthX63rt.js";import{g as ve}from"../chunks/DeFU6qEV.js";var me=I('<div class="ml-4 flex-shrink-0"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"></div></div>'),ue=I('<span class="flex items-center"><svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg> Audio</span>'),pe=(d,n,c)=>{d.preventDefault(),n(r(c).id)},fe=I('<div class="bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow"><a class="block"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h3 class="text-lg font-medium text-gray-900 truncate"> </h3> <span> </span></div> <p class="mt-1 text-sm text-gray-500"> </p></div> <!></div> <div class="mt-4 flex items-center justify-between"><div class="flex items-center space-x-4 text-sm text-gray-500"><span class="flex items-center"><svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> </span> <!></div></div></div></a> <div class="bg-gray-50 px-4 py-3 sm:px-6"><div class="flex justify-between items-center"><a class="text-sm font-medium text-indigo-600 hover:text-indigo-500">Open Project</a> <button class="text-sm font-medium text-red-600 hover:text-red-500">Delete</button></div></div></div>'),ge=I('<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"></div>');function xe(d,n){K(n,!0);const c=X();function p(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}async function f(s){if(confirm("Are you sure you want to delete this project?"))try{(await fetch(`http://localhost:3000/api/projects/${s}`,{method:"DELETE"})).ok&&c("refresh")}catch(o){console.error("Failed to delete project:",o)}}function g(s){switch(s){case"FWI-main":return"FWI Main";case"FWI-emotional":return"FWI Emotional";case"Scavenger-Hunt":return"Scavenger Hunt";default:return"FWI Main"}}function w(s){switch(s){case"FWI-main":return"bg-blue-100 text-blue-800";case"FWI-emotional":return"bg-purple-100 text-purple-800";case"Scavenger-Hunt":return"bg-green-100 text-green-800";default:return"bg-blue-100 text-blue-800"}}function y(s){switch(s.type){case"FWI-main":return`/fwi-main/${s.id}`;case"FWI-emotional":return`/fwi-emotional/${s.id}`;case"Scavenger-Hunt":return`/scavenger-hunt/${s.id}`;default:return`/project/${s.id}`}}var x=ge();ie(x,21,()=>n.projects,ne,(s,o)=>{var _=fe(),m=t(_),S=t(m),W=t(S),$=t(W),k=t($),j=t(k),i=t(j,!0);e(j);var h=a(j,2),E=t(h,!0);e(h),e(k);var M=a(k,2),b=t(M,!0);e(M),e($);var N=a($,2);{var B=C=>{var O=me();P(C,O)};z(N,C=>{r(o).status==="processing"&&C(B)})}e(W);var D=a(W,2),H=t(D),A=t(H),V=a(t(A));e(A);var v=a(A,2);{var u=C=>{var O=ue();P(C,O)};z(v,C=>{r(o).hasAudio&&C(u)})}e(H),e(D),e(S),e(m);var F=a(m,2),U=t(F),q=t(U),Y=a(q,2);Y.__click=[pe,f,o],e(U),e(F),e(_),G((C,O,Z,ee,te)=>{Q(m,"href",C),L(i,r(o).name),oe(h,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O??""}`),L(E,Z),L(b,ee),L(V,` ${r(o).imageCount??""} images`),Q(q,"href",te)},[()=>y(r(o)),()=>w(r(o).type),()=>g(r(o).type),()=>p(r(o).createdAt),()=>y(r(o))]),P(s,_)}),e(x),P(d,x),R()}J(["click"]);function he(d,n,c,p){d.key==="Escape"?n("close"):d.key==="Enter"&&!r(c)&&p()}var be=I('<p class="mt-2 text-sm text-red-600"> </p>'),we=(d,n)=>n("close"),ye=I('<div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity z-50"><div class="fixed inset-0 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"><div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"><div class="sm:flex sm:items-start"><div class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10"><svg class="h-6 w-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></div> <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left flex-1"><h3 class="text-base font-semibold leading-6 text-gray-900">Create New Project</h3> <div class="mt-4 space-y-4"><div><label for="project-name" class="block text-sm font-medium text-gray-700 mb-2">Project Name</label> <input id="project-name" type="text" placeholder="Enter project name" class="block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"/></div> <div><label for="project-type" class="block text-sm font-medium text-gray-700 mb-2">Project Type</label> <select id="project-type" class="block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"><option>FWI Main</option><option>FWI Emotional</option><option>Scavenger Hunt</option></select></div> <!></div></div></div></div> <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"><button type="button" class="inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 sm:ml-3 sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed"> </button> <button type="button" class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">Cancel</button></div></div></div></div></div>');function _e(d,n){K(n,!0);const c=X();let p=T(""),f=T("FWI-main"),g=T(!1),w=T("");async function y(){if(!r(p).trim()){l(w,"Please enter a project name");return}l(g,!0),l(w,"");try{const v=await fetch("http://localhost:3000/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r(p),type:r(f)})});if(v.ok){const u=await v.json();c("created",u);let F=`/project/${u.id}`;switch(u.type){case"FWI-main":F=`/fwi-main/${u.id}`;break;case"FWI-emotional":F=`/fwi-emotional/${u.id}`;break;case"Scavenger-Hunt":F=`/scavenger-hunt/${u.id}`;break}ve(F)}else l(w,"Failed to create project")}catch{l(w,"Network error. Please try again.")}finally{l(g,!1)}}var x=ye(),s=t(x),o=t(s),_=t(o);_.__keydown=[he,c,g,y];var m=t(_),S=t(m),W=a(t(S),2),$=a(t(W),2),k=t($),j=a(t(k),2);le(j),re(j),e(k);var i=a(k,2),h=a(t(i),2),E=t(h);E.value=E.__value="FWI-main";var M=a(E);M.value=M.__value="FWI-emotional";var b=a(M);b.value=b.__value="Scavenger-Hunt",e(h),e(i);var N=a(i,2);{var B=v=>{var u=be(),F=t(u,!0);e(u),G(()=>L(F,r(w))),P(v,u)};z(N,v=>{r(w)&&v(B)})}e($),e(W),e(S),e(m);var D=a(m,2),H=t(D);H.__click=y;var A=t(H,!0);e(H);var V=a(H,2);V.__click=[we,c],e(D),e(_),e(o),e(s),e(x),G(()=>{H.disabled=r(g),L(A,r(g)?"Creating...":"Create")}),de(j,()=>r(p),v=>l(p,v)),ce(h,()=>r(f),v=>l(f,v)),P(d,x),R()}J(["keydown","click"]);var ke=(d,n)=>l(n,!0),je=I('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div></div>'),Fe=(d,n)=>l(n,!0),Ce=I('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No projects</h3> <p class="mt-1 text-sm text-gray-500">Get started by creating a new project.</p> <div class="mt-6"><button class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Project</button></div></div>'),Pe=I('<div class="min-h-screen bg-gray-50"><header class="bg-white shadow-sm border-b"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><div class="flex items-center"><h1 class="text-2xl font-bold text-gray-900">Slideshow Creator</h1></div> <button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Project</button></div></div></header> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></main> <!></div>');function Ee(d,n){K(n,!0);let c=T(se([])),p=T(!0),f=T(!1);async function g(){try{const i=await fetch("http://localhost:3000/api/projects");i.ok&&l(c,await i.json(),!0)}catch(i){console.error("Failed to load projects:",i)}finally{l(p,!1)}}ae(()=>{g()});function w(){l(f,!1),g()}var y=Pe(),x=t(y),s=t(x),o=t(s),_=a(t(o),2);_.__click=[ke,f],e(o),e(s),e(x);var m=a(x,2),S=t(m);{var W=i=>{var h=je();P(i,h)},$=(i,h)=>{{var E=b=>{var N=Ce(),B=a(t(N),6),D=t(B);D.__click=[Fe,f],e(B),e(N),P(b,N)},M=b=>{xe(b,{get projects(){return r(c)},$$events:{refresh:g}})};z(i,b=>{r(c).length===0?b(E):b(M,!1)},h)}};z(S,i=>{r(p)?i(W):i($,!1)})}e(m);var k=a(m,2);{var j=i=>{_e(i,{$$events:{close:()=>l(f,!1),created:w}})};z(k,i=>{r(f)&&i(j)})}e(y),P(d,y),R()}J(["click"]);export{Ee as component};
